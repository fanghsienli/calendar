(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{19:function(e,t,a){e.exports=a(28)},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(12),s=a(3),o=a.n(s),i=a(13),c=a(7),l=a(9),u=a(5),m=a(1),g=a(14);function d(){var e=Object(g.a)(["\n    padding: 0 10px 32px 10px;\n    min-width: 300px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    & button {\n        background: rgba(255, 255, 255, 1);\n    }\n"]);return d=function(){return e},e}var p=a(15).a.div(d()),b=function(){var e=Object(u.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://cors-anywhere.herokuapp.com/").concat(t),{method:a,headers:{Accept:"application/json","Content-Type":"application/json"},body:n?JSON.stringify(n):void 0});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),h={0:{"en-US":"Sun","zh-TW":"\u65e5"},1:{"en-US":"Mon","zh-TW":"\u4e00"},2:{"en-US":"Tue","zh-TW":"\u4e8c"},3:{"en-US":"Wed","zh-TW":"\u4e09"},4:{"en-US":"Thu","zh-TW":"\u56db"},5:{"en-US":"Fri","zh-TW":"\u4e94"},6:{"en-US":"Sat","zh-TW":"\u516d"}},D={sectionTitle:{"en-US":"Available times","zh-TW":"\u6388\u8ab2\u6642\u9593"},timeZomeDescription:{"en-US":"* All the timings listed are in your timezone: Taipei (GMT+08:00)","zh-TW":"* \u6642\u9593\u4ee5 \u53f0\u5317 (GMT+08:00) \u986f\u793a"}};var v=function(){var e=n.useState("en-US"),t=Object(m.a)(e,2),a=t[0],r=t[1],s=n.useState([]),g=Object(m.a)(s,2),d=g[0],v=g[1],f=n.useState(""),w=Object(m.a)(f,2),S=w[0],E=w[1],N=n.useState([]),y=Object(m.a)(N,2),j=y[0],x=y[1],O=n.useState(0),T=Object(m.a)(O,2),k=T[0],M=T[1],z=n.useState(!1),W=Object(m.a)(z,2),U=W[0],H=W[1];return n.useEffect((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n,r,s,u,m,g,d,p,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),t=new Date(Number(new Date)-864e5*(new Date).getDay()),a=Number(new Date(t.getFullYear(),t.getMonth(),t.getDate()))+k,n=Number(new Date)>a?(new Date).toISOString():new Date(a).toISOString(),e.next=6,b("https://api.amazingtalker.com/v1/guest/teachers/amy-estrada/schedule?started_at=".concat(n),"get");case 6:r=e.sent,s=[].concat(Object(l.a)(r.available.map((function(e){return Object(c.a)({},e,{},{status:"available",hh:new Date(e.start).getHours()<10?"0"+new Date(e.start).getHours().toString():new Date(Date.parse(e.start)).getHours().toString(),mm:new Date(e.start).getMinutes()<10?"0"+new Date(e.start).getMinutes().toString():new Date(Date.parse(e.start)).getMinutes().toString()})}))),Object(l.a)(r.booked.map((function(e){return Object(c.a)({},e,{},{status:"booked",hh:new Date(e.start).getHours()<10?"0"+new Date(e.start).getHours().toString():new Date(Date.parse(e.start)).getHours().toString(),mm:new Date(e.start).getMinutes()<10?"0"+new Date(e.start).getMinutes().toString():new Date(Date.parse(e.start)).getMinutes().toString()})})))),u={},m=Object(i.a)(s);try{for(m.s();!(g=m.n()).done;)for(d=g.value,p=Date.parse(d.start),u[d.start]||(u[d.start]=d.end);Date.parse(d.end)-p>18e5;)(h=Object(c.a)({},d)).start=new Date(p+18e5).toISOString(),h.hh=new Date(h.start).getHours()<10?"0"+new Date(h.start).getHours().toString():new Date(Date.parse(h.start)).getHours().toString(),h.mm=new Date(h.start).getMinutes()<10?"0"+new Date(h.start).getMinutes().toString():new Date(Date.parse(h.start)).getMinutes().toString(),console.log(h),u[h.start]||(u[h.start]=h.end,s.push(h)),p+=18e5}catch(o){m.e(o)}finally{m.f()}v(s.sort((function(e,t){return Date.parse(e.start)-Date.parse(t.start)}))),H(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[k]),n.useEffect((function(){var e=new Date(Number(new Date)-864e5*(new Date).getDay()),t=Number(new Date(e.getFullYear(),e.getMonth(),e.getDate()))+k,n=new Array,r=new Date(t+6048e5).getDate()<10?"0"+new Date(t+6048e5).getDate().toString():new Date(t+6048e5).getDate().toString();E(r);for(var s=0;s<7;s++){var o=new Date(t);n.push({year:o.getFullYear().toString(),month:o.getMonth()+1<10?"0"+(o.getMonth()+1).toString():(o.getMonth()+1).toString(),date:o.getDate()<10?"0"+o.getDate().toString():o.getDate().toString(),day:h[o.getDay()][a],schedules:d.filter((function(e){return Date.parse(e.start)>=t&&Date.parse(e.start)<t+864e5})),status:Number(new Date)<t?"active":""}),console.log(d.filter((function(e){return Date.parse(e.start)>=t&&Date.parse(e.start)<t+864e5})),n[s]),t+=864e5}x(n)}),[d,a]),n.createElement(p,null,n.createElement("div",{className:"profile-section teacher-schedule with-divider"},n.createElement("div",{id:"timeslots",className:"teacher-profile-schedule aside-navigation-item"},n.createElement("h3",{className:"section-title"},n.createElement("span",null,D.sectionTitle[a]),n.createElement("div",{className:"buttion-group"},n.createElement("div",{className:"el-button-group"},n.createElement("button",{type:"button",className:"el-button ".concat("zh-TW"===a?"active":""," el-button--default el-button--mini is-plain"),onClick:function(){return r("zh-TW")}},"\u4e2d\u6587"),n.createElement("button",{type:"button",className:"el-button ".concat("en-US"===a?"active":""," el-button--default el-button--mini is-plain"),onClick:function(){return r("en-US")}},"Eng")))),n.createElement("div",{className:"section-body"},n.createElement("div",{className:"schedule"},n.createElement("div",{className:"schedule-control-box at-control"},n.createElement("div",{className:"buttion-group"},n.createElement("div",{className:"el-button-group"},n.createElement("button",{disabled:0===k,type:"button",className:"el-button el-button--default el-button--mini ".concat(0===k?"is-disabled":""," is-plain"),onClick:function(){return M(k-6048e5)}},n.createElement("i",{className:"el-icon-arrow-left"})),n.createElement("button",{type:"button",className:"el-button el-button--default el-button--mini is-plain",onClick:function(){return M(k+6048e5)}},n.createElement("i",{className:"el-icon-arrow-right"})))),n.createElement("div",{className:"label-box"},7===j.length?j[0].year+"/"+j[0].month+"/"+j[0].date+" - "+S:""),n.createElement("div",{className:"time-zone-description"},n.createElement("span",null,D.timeZomeDescription[a]))),U?n.createElement("div",{className:"loading"},"loading..."):n.createElement("div",{className:"at-column-box"},j.map((function(e,t){var a=e.day,r=e.date,s=e.status,o=e.schedules;return n.createElement("div",{className:"root",key:t},n.createElement("div",{className:"column-container ".concat(s," disable_click")},n.createElement("div",{className:"title-box"},n.createElement("div",{className:"at-text-center"},a),n.createElement("div",{className:"at-text-center"},r)),n.createElement("div",{className:"time-box"},o.map((function(e,t){var a=e.hh,r=e.mm,s=e.status;return n.createElement("div",{className:"time-list",key:t},n.createElement("div",{className:"time at-text-center is-size-7 ".concat(s)},a,":",r))})))))}))))))))};var f=function(){return n.createElement(v,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(27);r.render(n.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.e7f9ba56.chunk.js.map